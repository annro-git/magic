%h1 administrer les éditions

%h3 Blocs
%table.table
  - @sets.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%table.table
  %tbody#sortable{ data: { 'update-url' => '/admin/bloc_order' }}
    - @blocs.each do |bloc|
      - sets = bloc.extension_sets.order('extension_sets.order ASC')
      %tr.bloc-row{ id: "bloc-#{bloc.id}", data: { position: bloc.bloc_order } }
        %td
          %table.table
            %tr
              %td{colspan: sets.count}=bloc.name
            %tr
              - sets.each do |set|
                %td.text-center{ class: "col-md-#{12/sets.count}"}
                  %i{ class: "ss ss-6x ss-#{set.code&.downcase}" }
                  %br
                  %div
                    = set.cards.count
                    = link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
                    = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
                    = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Editions de base
%table.table
  - @basic_editions.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Masterpieces
%table.table
  - @masterpieces.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 From the Vaults
%table.table
  - @from_the_vaults.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Duels decks
%table.table
  - @dual_decks.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Réédition / masters sets
%table.table
  - @reiditions.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Premium decks
%table.table
  - @premium_decks.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Houmouristiques
%table.table
  - @humouristics.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Débuter
%table.table
  - @starters.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Magic en ligne
%table.table
  - @onlines.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Autres
%table.table
  - @others.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2= I18n.t("enum.extension_set.set_type.#{set.set_type}")
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'

%h3 Sans catégorie
%table.table
  - @_sets.each do |set|
    %tr
      %td.col-md-4.text-center
        %i{ class: "ss ss-common ss-6x ss-#{set.code&.downcase}" }
      %td.col-md-2
        = I18n.t("enum.extension_set.set_type.#{set.set_type}") if set.set_type
      %td.col-md-2= set.cards.count
      %td.col-md-2= link_to set.gatherer_card_urls.count, admin_extension_set_gatherer_card_urls_path(set.id)
      %td.col-md-2
        = link_to 'voir', admin_extension_set_path(set), class: 'btn btn-primary btn-xs'
        = link_to 'editer', edit_admin_extension_set_path(set), class: 'btn btn-warning btn-xs'
